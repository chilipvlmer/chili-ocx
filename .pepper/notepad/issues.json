{
  "version": "1.0.0",
  "entries": [
    {
      "timestamp": "2026-01-19T21:34:22.806Z",
      "content": "**Title**: \"BUG: Slash Commands Route to Wrong Agent Name (scoville vs scoville-orchestrator)\"\n\n**Content**:\nSEVERITY: P0 - BLOCKER\nCATEGORY: Component Configuration\n\nPROBLEM: \n/pepper-init command fails with: \"Agent not found: 'scoville'\"\nAvailable agents include: scoville-orchestrator\n\nROOT CAUSE:\nFile: command/pepper-init/COMMAND.md\nCurrent: agent: scoville\nExpected: agent: scoville-orchestrator\n\nIMPACT:\n- Users cannot use /pepper-init slash command\n- Must use workaround: \"Please call the pepper_init tool\"\n- Breaks documented workflow\n- Affects ALL pepper slash commands\n\nFILES TO FIX:\n- command/pepper-init/COMMAND.md\n- command/pepper-status/COMMAND.md (if exists)\n- command/pepper-notepad/COMMAND.md (if exists)\n- Any other commands routing to \"scoville\"\n\nFIX: Change agent: scoville → agent: scoville-orchestrator\n\nDISCOVERED: Phase 8 manual testing (2026-01-19)\nBLOCKS: User-facing slash command functionality\nMUST FIX: Before merge to main",
      "status": "RESOLVED",
      "resolvedAt": "2026-01-20T19:59:00.000Z",
      "resolution": "Fixed in commit 246e25b. Updated files/command/pepper-init/COMMAND.md to use agent: scoville-orchestrator. Verified working in Phase 8 testing.",
      "verifiedBy": "Manual testing in fresh OpenCode workspace (session-ses_4233.md)"
    },
    {
      "timestamp": "2026-01-20T20:36:40.927Z",
      "content": "**UI Bug: Plugin Log Output Leaking to TUI** (2026-01-20)\n\n**Severity**: P2 - Visual bug, doesn't affect functionality\n\n**Description**: \nWhen the chili-ocx plugin writes to `/tmp/chili-ocx-plugin.log`, the log output appears overlayed directly on top of the OpenCode TUI interface. This creates visual noise and disrupts the user experience.\n\n**Expected Behavior**:\n- Plugin logs should be written to `/tmp/chili-ocx-plugin.log` silently\n- No log output should appear in the OpenCode TUI\n- Logs should only be visible when explicitly checked (e.g., `tail -f /tmp/chili-ocx-plugin.log`)\n\n**Actual Behavior**:\n- Log entries appear as overlays on the OpenCode TUI\n- Users can see real-time log writes during tool execution\n- Visual clutter interferes with normal TUI interaction\n\n**Root Cause Hypothesis**:\n- Likely related to how OpenCode TUI captures/redirects stdout/stderr\n- Plugin may be writing to stdout/stderr in addition to log file\n- Or: Log file writes are triggering terminal refresh events\n- OpenCode TUI buffering/redraw issue\n\n**Impact**:\n- Purely visual - functionality works correctly\n- Confusing UX - users see \"behind the scenes\" logging\n- No data loss or corruption\n\n**Reproduction**:\n1. Launch OpenCode with pepper-harness profile\n2. Run any slash command (e.g., `/pepper-init`, `/status`)\n3. Observe log output appearing on TUI during execution\n\n**Environment**:\n- Platform: macOS (darwin)\n- OpenCode: v1.1.20\n- chili-ocx plugin: v0.1.0\n- Profile: pepper-harness\n\n**Next Steps**:\n- Investigate plugin logging implementation (`plugin/src/utils/pepper-io.ts`)\n- Check if console.log/console.error are being used instead of pure file writes\n- Test with different OpenCode TUI versions\n- Consider using OpenCode's native logging API if available\n- Low priority - defer until after v1.1.0 release\n\n**Workaround**: \nNone needed - bug is cosmetic only."
    },
    {
      "timestamp": "2026-01-21T08:57:58.449Z",
      "content": "**BUG: Seed and Sprout Cannot Write Files Directly** (2026-01-21)\n\n**Severity**: P1 - Workflow Friction\n\n**Problem**:\nSeed (PRD-RFC planner) and Sprout (execution planner) agents cannot write files directly. They must delegate to Jalapeño via the Task tool to write:\n- Seed cannot write RFCs to `.pepper/specs/rfc/`\n- Sprout cannot write execution plans to `.pepper/plan.md`\n\n**Current Workaround**:\nBoth agents use Task tool to delegate file writing to Jalapeño:\n```\ntask(subagent_type=\"jalapeno-coder\", prompt=\"Write this content to file...\")\n```\n\n**Impact**:\n- Extra delegation step adds latency\n- Breaks natural agent workflow (Seed should create RFCs, Sprout should create plans)\n- User confusion when agents say \"I'll create...\" but then delegate\n- Unnecessary back-and-forth between agents\n\n**Root Cause**:\nAgent tool permissions in AGENT.md files:\n- Seed has: question, read, glob, grep, task, webfetch, todowrite, todoread, skill, pepper_*\n- Sprout has: question, read, glob, grep, task, webfetch, todowrite, todoread, skill, pepper_*\n- Missing: write, edit, bash tools\n\n**Expected Behavior**:\n- Seed should write RFCs directly to `.pepper/specs/rfc/` without delegation\n- Sprout should write plans directly to `.pepper/plan.md` without delegation\n- Both should still use Task for complex operations requiring Jalapeño\n\n**Proposed Fix**:\nAdd write and edit tools to Seed and Sprout agent prompts:\n1. Update `files/agent/seed-prd-rfc/AGENT.md` - add write, edit to tool list\n2. Update `files/agent/sprout-execution-planner/AGENT.md` - add write, edit to tool list\n3. Document: Seed writes to `.pepper/specs/`, Sprout writes to `.pepper/plan.md`\n\n**Files to Update**:\n- files/agent/seed-prd-rfc/AGENT.md\n- files/agent/sprout-execution-planner/AGENT.md\n\n**Discovered**: 2026-01-21 during RFC-004 planning\n**Reported by**: User\n**Blocks**: Smooth agent workflow, efficiency",
      "status": "RESOLVED",
      "resolvedAt": "2026-01-21T09:15:00.000Z",
      "resolution": "Fixed in commit 343994a. Updated AGENT.md files for seed-prd-rfc and sprout-execution-planner to grant write, edit, bash permissions. Both agents can now write files directly to .pepper/ without delegating to Jalapeño.",
      "verifiedBy": "Build successful, committed to main"
    },
    {
      "timestamp": "2026-01-21T11:18:17.147Z",
      "content": "RFC-004 plugin source code changes NOT built and deployed - files/plugin/pepper-plugin.js still contains console.log() which leaks to TUI. User needs to run: npm run build:plugin && git add files/plugin/ && git commit && git push"
    },
    {
      "timestamp": "2026-01-21T11:21:18.908Z",
      "content": "Build script bug: package.json build:plugin missing copy to files/plugin/pepper-plugin.js. Manually copied this time. Should update script to prevent future issues."
    },
    {
      "timestamp": "2026-01-21T11:54:53.434Z",
      "content": "**ISSUE: Seed and Sprout cannot write files directly - delegation required**\n\n**Problem**: \n- Seed (seed-prd-rfc) and Sprout (sprout-execution-planner) agents cannot write files directly\n- Must delegate to Jalapeño for writing PRDs, RFCs, and execution plans\n- This was supposedly fixed in a previous session but the fix is not working\n\n**Expected Behavior**:\n- Seed should be able to write PRD/RFC files to `.pepper/specs/` directly\n- Sprout should be able to write execution plans to `.pepper/plans/` directly\n- No delegation to Jalapeño should be needed for these agents' core outputs\n\n**Current Behavior**:\n- Seed attempted to use bash tool (not available)\n- Seed had to delegate to Jalapeño to write RFC-005\n- This breaks the intended workflow and adds unnecessary overhead\n\n**Impact**:\n- Workflow inefficiency (extra delegation step)\n- Confusion about agent capabilities\n- User frustration - expected behavior not working\n\n**Investigation Needed**:\n1. Check agent tool permissions in `.opencode/agent/seed-prd-rfc/AGENT.md`\n2. Check agent tool permissions in `.opencode/agent/sprout-execution-planner/AGENT.md`\n3. Verify if write/edit tools are enabled for these agents in config\n4. Check if previous fix was actually implemented or just discussed\n5. Review plugin configuration for agent-specific tool restrictions\n\n**Priority**: P1 - High (blocks core workflow efficiency)\n\n**Date Reported**: 2026-01-21\n**Reported By**: User during RFC-005 creation session"
    },
    {
      "timestamp": "2026-01-21T16:41:39.488Z",
      "content": "**Issue 1: Todo Tool Sync** - todowrite/todoread not synced with plan.md. Should use native OpenCode todo tools to track and display plan progress to users."
    },
    {
      "timestamp": "2026-01-21T16:41:40.589Z",
      "content": "**Issue 2: Chipotle Delegation** - Scoville not delegating docs tasks to Chipotle Scribe, often uses Jalapeño instead for documentation work."
    },
    {
      "timestamp": "2026-01-21T16:41:41.945Z",
      "content": "**Issue 3: Git Commit Skill** - Need skill with git management best practices for use during commits."
    },
    {
      "timestamp": "2026-01-21T16:41:42.934Z",
      "content": "**Issue 4: MCP Usage** - Agents hallucinate commands instead of using gh_grep MCP (GitHub patterns) and context7 MCP (docs lookup). Need to enforce MCP usage more."
    },
    {
      "timestamp": "2026-01-21T16:41:44.704Z",
      "content": "**Issue 5: AI Slop Artifacts** - Agents create useless .md artifacts (summaries, etc.). Should avoid generating AI slop documentation."
    },
    {
      "timestamp": "2026-01-21T16:41:45.679Z",
      "content": "**Issue 6: Skill-Creator Meta Skill** - Implement Anthropic's skill-creator meta skill (https://github.com/anthropics/skills/tree/main/skills/skill-creator) adapted for Pepper harness. Must be OpenCode/OCX compliant. Use gh_grep and context7 MCPs for implementation."
    },
    {
      "timestamp": "2026-01-21T16:41:45.681Z",
      "content": "**Issue 7: AGENTS.md Auto-injection** - Question: Are we auto-injecting agents.md files yet? Need to verify implementation status."
    },
    {
      "timestamp": "2026-01-25T17:19:37.128Z",
      "content": "Module resolution issues (ESM vs CJS) require careful handling of .js extensions in imports within TypeScript when targeting ESM. Using .js extension in imports and \"moduleResolution\": \"bundler\" or \"nodenext\" seems to be the key, but tests required manual compilation to verify."
    }
  ]
}